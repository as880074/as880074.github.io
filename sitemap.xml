<search>
    
     <entry>
        <title>C# é–‹ç™¼å¯¦æˆ°ï¼šéåŒæ­¥ç¨‹å¼é–‹ç™¼æŠ€å·§-åè©ä»‹ç´¹</title>
        <url>https://as880074.github.io/post/technical/20220623/threaddefinition/</url>
        <categories>
          <category>æŠ€è¡“</category><category>éåŒæ­¥ç¨‹å¼</category>
        </categories>
        <tags>
          <tag>C#</tag><tag>éåŒæ­¥ç¨‹å¼</tag><tag>async/await</tag><tag>ä¿å“¥èª²ç¨‹</tag>
        </tags>
        <content type="html"> åè©ä»‹ç´¹ Concurrent computing vs. Parallel computing  å»ºè­°ç”¨è‹±æ–‡æºé€šï¼Œå› ç‚ºå¤§é™¸è·Ÿå°ç£ä¸­æ–‡ç¿»è­¯ä¸ä¸€æ¨£ï¼Œå¤§é™¸çš„Parallel computingç¿»è­¯æˆä¸¦è¡Œè¨ˆç®—
  ä¸¦è¡Œè¨ˆç®— (Concurrent computing)  æ•¸å€‹é‹ç®—å·¥ä½œåŒæ™‚åœ¨ç‰¹å®šæ™‚é–“å€æ®µå…§äº¤æ›¿åœ°å®Œæˆï¼Œè€Œéä¾åºåŸ·è¡Œ a form of computing in which several computations are executed during overlapping time periods concurrentlyinstead of sequentially     å¹³è¡Œè¨ˆç®— (Parallel computing)  è¨±å¤šé‹ç®—éç¨‹æœƒåŒæ™‚ç™¼ç”Ÿ a type of computation in which many calculations or the execution of processes are carried out simultaneously    IO Bound VS CPU Bound  IO Bound  å¦‚æœä½ çš„ç¨‹å¼éœ€è¦é€é I/O é€²è¡Œå­˜å–ï¼Œå°±å±¬æ–¼ IO Bound çš„éåŒæ­¥å·¥ä½œ ä¾‹å¦‚ï¼šå¾ç¶²è·¯ä¸Šå–å¾—ä¸€ä»½è³‡æ–™ã€å‘¼å« APIã€å­˜å–è³‡æ–™åº«ã€è®€å¯«æª”æ¡ˆ ç”±æ–¼å­˜å– I/O çš„éç¨‹å¯èƒ½æœƒé–’ç½® CPU é‹ä½œï¼Œéç¨‹å¯èƒ½æœƒå°è‡´ CPU è³‡æºè¢«æµªè²» é€™ç¨®é¡å‹çš„æ‡‰ç”¨éå¸¸é©åˆæ¡ç”¨éåŒæ­¥é–‹ç™¼ä¾†è§£æ±ºè³‡æºæµªè²»çš„å•é¡Œï¼ ğŸ’¡ æ‡‰å¤šåˆ©ç”¨ awaitä¾†ç­‰å¾…éåŒæ­¥åŸ·è¡Œ   CPU Bound  å¦‚æœä½ çš„ç¨‹å¼éœ€è¦é€²è¡Œç›¸ç•¶ç¹é‡çš„ CPU è¨ˆç®—å·¥ä½œï¼Œå°±å±¬æ–¼ CPU Bound çš„éåŒæ­¥å·¥ä½œ ä¾‹å¦‚ï¼šåœ–ç‰‡è½‰æ›è™•ç†ã€è™•ç†å¤§é‡æ•¸æ“šè¨ˆç®— ç”±æ–¼ CPU å¤§é‡é‹ç®—çš„æƒ…æ³ï¼Œæ‡‰ç”¨ç¨‹å¼å¯èƒ½æœƒè™•æ–¼ã€Œç„¡æ³•å›æ‡‰ã€çš„ç‹€æ…‹ é€™ç¨®é¡å‹çš„æ‡‰ç”¨éå¸¸é©åˆæ¡ç”¨éåŒæ­¥é–‹ç™¼ä¾†è§£æ±ºéŸ¿æ‡‰æ€§çš„å•é¡Œï¼ ğŸ’¡ æ‡‰å¤šåˆ©ç”¨ TPL(Task Parallel Library) ä¾†å¯¦ç¾éåŒæ­¥ (Parallel.ForEach æˆ– Task.Run)    è¨ˆç®—æ©Ÿæ¶æ§‹ç›¸é—œåè©  ä¸­å¤®è™•ç†å™¨ (CPU)  Central Processing Unit Processors (è™•ç†å™¨) Sockets (å¯¦é«”æ’æ§½) Cores (å¯¦é«”æ ¸å¿ƒ) Logical processors (é‚è¼¯æ ¸å¿ƒ)   è¶…åŸ·è¡Œç·’(HT)  Hyper-Threading Technology (HTT) Intel å°ˆåˆ©çš„ SMT æŠ€è¡“  SMT = Simultaneous MultiThreading   Scalar processor vs. Superscalar processor    ä½œæ¥­ç³»çµ±ç›¸é—œ   é›»è…¦ç¨‹å¼ (Program)
 åŒ…å«ä¸€ç³»åˆ—æŒ‡ä»¤ (a sequence of instructions) ç”¨ä¾†è®“é›»è…¦é‹ä½œçš„æª”æ¡ˆ    åŸ·è¡Œ (Execution)
 å°‡é›»è…¦ç¨‹å¼ä¸­çš„æ‰€æœ‰æŒ‡ä»¤è¼‰å…¥åˆ°è¨˜æ†¶é«” (RAM) ä¸¦å»ºç«‹è™•ç†ç¨‹åºçš„æµç¨‹    è™•ç†ç¨‹åº(Process)
 é›»è…¦ç¨‹å¼çš„å¯¦é«” (instance of a computer program) (ä¸€å°é›»è…¦å¯ä»¥åŒæ™‚åŸ·è¡Œå¤šå€‹ç›¸åŒçš„é›»è…¦ç¨‹å¼) ä½œæ¥­ç³»çµ±å¯èƒ½æœƒä½¿ç”¨ä¸€å€‹åˆ°å¤šå€‹åŸ·è¡Œç·’ä¾†åŸ·è¡Œé›»è…¦ç¨‹å¼ä¸­çš„æŒ‡ä»¤ (instructions)    åŸ·è¡Œç·’(Thread)
 ç”±ä½œæ¥­ç³»çµ±é€éæ’ç¨‹å™¨(Scheduler)åˆ†é…åŸ·è¡Œåœ¨é›»è…¦ç¨‹å¼ä¸­ä¸€ç³»åˆ—æŒ‡ä»¤çš„æœ€å°å–®ä½ å€åˆ† Kernel threads èˆ‡ User threads å…©ç¨®ï¼Œè² è²¬ä¸åŒé¡å‹çš„åŸ·è¡Œä»»å‹™    æ’ç¨‹å™¨ (Scheduling)
 æ’ç¨‹å™¨æ˜¯ä½œæ¥­ç³»çµ±çš„ä¸€å€‹é‡è¦å…ƒä»¶ï¼Œç”¨ä¾†å®‰æ’ã€Œè³‡æºã€ä¾†åŸ·è¡Œã€Œå·¥ä½œã€ è³‡æºåŒ…å«è™•ç†å™¨ (Processor)ã€æ ¸å¿ƒ(Core)ã€ç¶²è·¯ã€&amp;hellip; ç­‰ç­‰ã€‚ å·¥ä½œåŒ…å«åŸ·è¡Œç·’(Thread)ã€è™•ç†ç¨‹åº(Process)ã€å‚³è¼¸ç¶²è·¯å°åŒ… (Traffic flow)ã€&amp;hellip; ç­‰ç­‰ã€‚    å…ˆä½”å¼ä»»å‹™è™•ç† (Preemption)
 é€™æ˜¯ä¸€ç¨®å¤šå·¥(Multi-Tasking)çš„å¯¦ç¾æ–¹å¼ã€‚å¤šå·¥æ˜¯æŒ‡é›»è…¦åŒæ™‚åŸ·è¡Œå¤šå€‹ç¨‹å¼çš„èƒ½åŠ›ï¼ å…ˆä½”å¼ä»»å‹™è™•ç†æœƒä¸­æ–·æ­£åœ¨åŸ·è¡Œä¸­çš„åŸ·è¡Œç·’ï¼Œä¸¦æœƒåœ¨æœªä¾†çš„ä¸€æ®µæ™‚é–“å¾Œç¹¼çºŒåŸ·è¡Œ    å…§å®¹åˆ‡æ› (Context Switching)
 ç”±æ–¼å…ˆä½”å¼ä»»å‹™è™•ç†æœƒä¸­æ–·æ­£åœ¨åŸ·è¡Œä¸­çš„åŸ·è¡Œç·’ï¼Œåœ¨åŸ·è¡Œç·’ä¹‹é–“åè¦†åˆ‡æ›çš„éç¨‹å«åšå…§å®¹åˆ‡æ› Windows / macOS / Linux / AIX / BSD / Solaris çš†æ¡ç”¨å…ˆä½”å¼å¤šå·¥ (Preemptive Multitasking)ï¼Œä¸€å€‹åŸ·è¡Œç·’åŸ·è¡Œç¨‹å¼æ™‚é–“ç”¨å®Œäº†ï¼Œç³»çµ±å°±æœƒé€²è¡Œ Context Switchï¼ŒæŠŠ CPU åˆ†é…çµ¦ä¸‹ä¸€å€‹åŸ·è¡Œç·’ï¼Œæ²’æœ‰ä¸€å€‹ç¨‹å¼èƒ½ç¨ä½” CPU æ™‚é–“ï¼    å¤šå·¥è™•ç† (Multi-Tasking)
 å¤šå·¥æ˜¯æŒ‡é›»è…¦åŒæ™‚åŸ·è¡Œå¤šå€‹ç¨‹å¼çš„èƒ½åŠ› å¤šå·¥çš„ä¸€èˆ¬æ–¹æ³•æ˜¯åŸ·è¡Œç¬¬ä¸€å€‹ç¨‹å¼çš„ä¸€æ®µä»£ç¢¼ï¼Œå„²å­˜å·¥ä½œç’°å¢ƒï¼›å†åŸ·è¡Œç¬¬äºŒå€‹ç¨‹å¼çš„ä¸€æ®µä»£ç¢¼ï¼Œå„²å­˜ç’°å¢ƒï¼›â€¦â€¦æ¢å¾©ç¬¬ä¸€å€‹ç¨‹å¼çš„å·¥ä½œç’°å¢ƒï¼ŒåŸ·è¡Œç¬¬ä¸€å€‹ç¨‹å¼çš„ä¸‹ä¸€æ®µä»£ç¢¼â€¦â€¦ç¾ä»£çš„å¤šå·¥ï¼Œæ¯å€‹ç¨‹å¼çš„æ™‚é–“åˆ†é…ç›¸å°å¹³å‡ã€‚    å¤šåŸ·è¡Œç·’ (Multithreading)
 å¤šåŸ·è¡Œç·’æ˜¯ä¸€ç¨®åˆ©ç”¨å–®ä¸€æ ¸å¿ƒä¾†æä¾›å¤šå·¥è™•ç†çš„èƒ½åŠ›ï¼Œç”¨ä¾†æä¾›åŒæ™‚åŸ·è¡Œå¤šæ¢åŸ·è¡Œç·’çš„å·¥ä½œæ–¹å¼ï¼Œè€Œé€™ç¨®èƒ½åŠ›é€šå¸¸éƒ½æ˜¯ç”±ä½œæ¥­ç³»çµ±å…§å»ºæä¾›çš„ã€‚ åœ¨å¤šåŸ·è¡Œç·’çš„æ‡‰ç”¨ç¨‹å¼ä¸­ï¼ŒåŸ·è¡Œç·’æœƒå…±ç”¨ä¸€å€‹æˆ–å¤šå€‹æ ¸å¿ƒï¼Œè€Œå…±ç”¨çš„è³‡æºåŒ…å«é‹ç®—å–®å…ƒã€CPU å¿«å–æˆ– TLB (translation lookaside buffer) ç­‰è³‡æºã€‚ æ–°ä¸€ä»£çš„ CPU åŸºæœ¬ä¸Šéƒ½æœ‰æä¾›ç¡¬é«”å¤šåŸ·è¡Œç·’çš„æ”¯æ´ï¼Œèƒ½å¤ åœ¨åŒä¸€æ™‚é–“åŸ·è¡Œå¤šæ–¼ä¸€å€‹åŸ·è¡Œç·’ï¼Œé€²è€Œæå‡æ•´é«”è™•ç†æ•ˆèƒ½    Program vs. Process vs. ThreadScheduling, Preemption, Context Switching https://en.wikipedia.org/wiki/Thread_(computing)
ç›¸é—œåè©   åŒæ­¥ (Synchronous)
 åœ¨è¨ˆç®—æ©Ÿçš„ä¸–ç•Œè£¡ï¼Œæ²’æœ‰ä»€éº¼ç¨‹å¼æ˜¯çœŸçš„ã€ŒåŒæ­¥ã€çš„ã€‚ åŒæ­¥é€šå¸¸æ˜¯æŒ‡åœ¨ä¸€å€‹ç³»çµ±ä¸­æ‰€ç™¼ç”Ÿçš„äº‹ä»¶ä¹‹é–“é€²è¡Œå”èª¿ (coordination of events)ï¼Œè®“æ™‚é–“ä¸Šå‡ºç¾ ä¸€è‡´æ€§èˆ‡çµ±ä¸€åŒ–çš„ç¾è±¡ï¼Œè®“æ•´ä»¶äº‹çœ‹èµ·ä¾†åƒæ˜¯ä¾åºåŸ·è¡Œçš„çµæœã€‚    éåŒæ­¥ (Asynchronous)
 éåŒæ­¥æ„å‘³è‘—åœ¨ä¸€å€‹ç³»çµ±ä¸­æ‰€ç™¼ç”Ÿçš„äº‹ä»¶ (occurrence of events) éƒ½å¯ä»¥ç¨ç«‹åŸ·è¡Œï¼Œä¸¦ä¸”æä¾›ä¸€äº›æ–¹æ³•ä¾†è™•ç†é€™äº›äº‹ä»¶ã€‚ é€™äº›ç™¼ç”Ÿçš„äº‹ä»¶ä¸æœƒå°é–(Block)ä¸»ç¨‹å¼çš„åŸ·è¡Œç·’ï¼Œå› æ­¤å¯ä»¥å¤šå€‹å·¥ä½œé€²è¡Œå¹³è¡Œè™•ç†    åŒæ­¥åŒ– (Synchronization)
 ç•¶å¤šåŸ·è¡Œç·’éœ€è¦åŒæ™‚å­˜å–å…±ç”¨è³‡æºæ™‚ï¼Œæ‰€éœ€é€²è¡Œçš„ç®¡æ§æ©Ÿåˆ¶ï¼Œç¢ºä¿ç¨‹å¼åŸ·è¡Œæ™‚å¯ä»¥å¾—åˆ°é æœŸçµæœ è·¨åŸ·è¡Œç·’çš„åŒæ­¥åŒ–ï¼š lock, SpinLock, Mutex, ReaderWriterLockSlim, Barrier, CountdownEvent, &amp;hellip; è·¨è™•ç†ç¨‹åºåŒæ­¥åŒ–ï¼šMutex, Semaphore (Windows), EventWaitHandle (Windows) ç›¸é—œæ–‡ç« ï¼šOverview of synchronization primitives    åŸ·è¡Œç·’å®‰å…¨ (Thread-safety)
 åœ¨å¤šåŸ·è¡Œç·’ç’°å¢ƒä¸‹åŸ·è¡Œç¨‹å¼ï¼Œç”¨ä»¥ç¢ºä¿åŸ·è¡Œå¯ä»¥å¾—åˆ°é æœŸåŸ·è¡Œçµæœï¼ å¯¦ç¾åŸ·è¡Œç·’å®‰å…¨çš„å¿…è¦æ¢ä»¶å°±æ˜¯å¿…é ˆèƒ½å¤ æä¾›åŒæ­¥åŒ–æ©Ÿåˆ¶ï¼    åŒæ­¥å…§å®¹ (SynchronizationContext)
 å…è¨±åŸ·è¡Œç·’é€éå°‡å·¥ä½œå–®å…ƒ(Work of Unit)é€²è¡Œå°è£(Marshal)ä¹‹å¾Œï¼Œå‚³éçµ¦å…¶ä»–åŸ·è¡Œç·’    ç«¶çˆ­ç‹€æ…‹ (Race Condition)
 ç«¶çˆ­æƒ…å½¢æ˜¯ä¸€ç¨®éŒ¯èª¤ï¼Œé€™ç¨®éŒ¯èª¤æ˜¯æŒ‡æ ¹æ“šå…©å€‹æˆ–å¤šå€‹åŸ·è¡Œç·’ä¹‹ä¸­ï¼Œå“ªä¸€å€‹å…ˆåˆ°é”ç¨‹å¼ç¢¼çš„ç‰¹å®šå€å¡Šè€Œæ±ºå®šç¨‹å¼çš„çµæœã€‚ åŸ·è¡Œç¨‹å¼å¤šæ¬¡æœƒç”¢ç”Ÿä¸åŒçš„çµæœï¼Œä¸¦ä¸”ç„¡æ³•é æ¸¬ä»»ä½•æŒ‡å®šçš„åŸ·è¡Œçµæœã€‚    é—œéµå€æ®µ (Critical Section)
 æ˜¯ä¸€æ®µç¨‹å¼ç¢¼ä¸å…è¨±å¤šåŸ·è¡Œç·’åŒæ™‚åŸ·è¡Œ ç‚ºäº†é¿å…è³‡æºç«¶çˆ­çš„æƒ…æ³ç™¼ç”Ÿ (Race Condition)    æ­»çµ (Deadlock)
 ç•¶å…©å€‹ä»¥ä¸Šçš„åŸ·è¡Œç·’ï¼Œé›™æ–¹éƒ½åœ¨ç­‰å¾…å°æ–¹åœæ­¢åŸ·è¡Œï¼Œä»¥å–å¾—ç³»çµ±è³‡æºï¼Œä½†æ˜¯æ²’æœ‰ä¸€æ–¹æœƒå…ˆçµæŸã€‚     .NETç¨‹å¼å•Ÿå‹•æµç¨‹  .NET è™•ç†ç¨‹åº(Process)å•Ÿå‹•å¾Œï¼Œåƒ…æœƒæœ‰ä¸€å€‹å‰æ™¯åŸ·è¡Œç·’ï¼  æ¯å€‹åŸ·è¡Œç¨‹åºéƒ½å¯ä»¥ç”¢ç”Ÿå‡ºè¨±å¤šå‰æ™¯åŸ·è¡Œç·’æˆ–èƒŒæ™¯åŸ·è¡Œç·’   å‰æ™¯åŸ·è¡Œç·’ (Foreground Thread)  æ‰€æœ‰å‰æ™¯åŸ·è¡Œç·’å¿…é ˆå…¨éƒ¨çµæŸåŸ·è¡Œï¼Œå¦å‰‡è™•ç†ç¨‹åºç„¡æ³•çµæŸåŸ·è¡Œ ç„¡è«–æ˜¯å¦é‚„æœ‰èƒŒæ™¯åŸ·è¡Œç·’åœ¨åŸ·è¡Œï¼Œæ²’æœ‰å‰æ™¯åŸ·è¡Œç·’åœ¨è·‘ï¼Œè©²è™•ç†ç¨‹åºå°±ä¸€å®šæœƒçµæŸ new Thread() é è¨­å°±æ˜¯å‰æ™¯åŸ·è¡Œç·’   èƒŒæ™¯åŸ·è¡Œç·’ (Background Thread)  new Task() é è¨­å°±æ˜¯èƒŒæ™¯åŸ·è¡Œç·’ å¾åŸ·è¡Œç·’é›†å€(Thread Pool)å–å¾—çš„åŸ·è¡Œç·’ï¼Œä¸€å®šæ˜¯èƒŒæ™¯åŸ·è¡Œç·’ Task.Run å¾åŸ·è¡Œç·’é›†å€å–å¾—ä¸€å€‹åŸ·è¡Œç·’ï¼Œå› æ­¤æ˜¯èƒŒæ™¯åŸ·è¡Œç·’   ä¸»åŸ·è¡Œç·’(main Thread)  ç¨‹åºå•Ÿå‹•æ™‚çš„ç¬¬ä¸€å€‹åŸ·è¡Œç·’    https://www.albahari.com/threading/
https://source.dot.net/
</content>
    </entry>
    
     <entry>
        <title>SOLID</title>
        <url>https://as880074.github.io/post/technical/20220520/solid/</url>
        <categories>
          <category>æŠ€è¡“</category><category>ç›¸ä¾æ€§æ³¨å…¥</category>
        </categories>
        <tags>
          <tag>C#</tag><tag>ç›¸ä¾æ€§æ³¨å…¥</tag><tag>SOLID</tag><tag>ä¿å“¥èª²ç¨‹</tag>
        </tags>
        <content type="html"> SOLID é–‹ç™¼æƒ…å¢ƒ:
 é–‹ç™¼çš„æ™‚é–“é•·?é‚„æ˜¯ç¶­è­·çš„æ™‚é–“è¼ƒé•·? æœ‰åœ˜éšŠä¸€èµ·é–‹ç™¼?é‚„æ˜¯ä¸€å€‹äººå¯«Code ä¸€å€‹é•·æœŸç¶­è­·çš„å°ˆæ¡ˆï¼Œéœ€æ±‚è®Šæ›´é »ç¹åº¦? ä½ å¦‚ä½•è®“ç¨‹å¼ç¢¼å…·å‚™å¯è®€æ€§èˆ‡æ“´å……æ€§ å¦‚ä½•é¿å…åœ¨ä¿®æ”¹ç¨‹å¼çš„éç¨‹ä¸­å¼•ç™¼é€£é–åæ‡‰?(æ”¹Aå£B)  OOPçš„å››å€‹ç‰¹æ€§ æŠ½è±¡(Abstraction)  å°‡çœŸå¯¦ä¸–ç•Œçš„éœ€æ±‚è½‰æ›æˆç‚ºOOPä¸­çš„é¡åˆ¥ é¡åˆ¥å¯ä»¥åŒ…å«ç‹€æ…‹(å±¬æ€§)èˆ‡è¡Œç‚º(æ–¹æ³•)ã€‚  å°è£(Encapsulation)  éš±è—/ä¿è­·å…§éƒ¨å¯¦ä½œçš„ç´°ç¯€ï¼Œä¸¦å¯ä»¥å°å±¬æ€§æˆ–æ–¹æ³•è¨­å®šå­˜å–å±¤ç´š(Public,Private,Protected)  ç¹¼æ‰¿(Inheritance)  å¯ä»¥è®“æ‚¨å»ºç«‹æ–°é¡åˆ¥ä»¥é‡è¤‡ä½¿ç”¨ã€æ“´å……å’Œä¿®æ”¹å…¶ä»–é¡åˆ¥ä¸­å®šç¾©çš„è¡Œç‚ºã€‚  å¤šå‹(Polymorphism)  åœ¨ç›¸åŒä»‹é¢ä¸‹ï¼Œå¯ä»¥ç”¨ä¸åŒçš„å‹åˆ¥ä¾†å¯¦ç¾ã€‚ å¤šå‹æœ‰åˆ†æˆå¥½å¹¾ç¨®ä¸åŒé¡å‹ã€‚  ç¬¬ä¸€æ­¥: å¾éœ€æ±‚æˆ–è¦æ ¼ä¸­é€²è¡Œ&amp;quot;æŠ½è±¡åŒ–&amp;quot;çš„éç¨‹ é€é&amp;quot;æŠ½è±¡åŒ–&amp;quot;éç¨‹å®šç¾©å‡ºé¡åˆ¥ ç¬¬äºŒæ­¥: å°å¯¦ä½œçš„ç´°ç¯€é€²è¡Œ&amp;quot;å°è£&amp;quot;(éš±è—ã€ä¿è­·)
ç¬¬ä¸‰æ­¥: é€é&amp;quot;ç¹¼æ‰¿&amp;quot;ä¾†é‡è¤‡åˆ©ç”¨ã€æ“´å……å’Œä¿®æ”¹åŸºåº•é¡åˆ¥çš„å®šç¾©
 é€é&amp;quot;ç¹¼æ‰¿&amp;quot;ä¾†é‡è¤‡åˆ©ç”¨ã€æ“´å……å’Œä¿®æ”¹åŸºåº•é¡åˆ¥çš„å®šç¾© class BaseClass {  public string Name{get;set;}  public int Age {get;set;}  public virtual void Output()=&amp;gt;Console.WriteLine(&amp;#34;Hello&amp;#34;);  public BaseClass(string name) =&amp;gt; Name =name;  public BaseClass()=&amp;gt; Name =&amp;#34;&amp;#34;; } class DerivedClass : BaseClass { 	public string Department { get; set; } 	public DerivedClass() : base(&amp;#34;Default&amp;#34;) 	{ 	base.Age = 18; 	//base.Department = &amp;#34;IT&amp;#34;; 	base.Output(); 	this.Age = 19; 	this.Department =&amp;#34;IT&amp;#34;; 	this.Output(); 	} 	public override void Output()=&amp;gt;Console.WriteLine(&amp;#34;Hello !!&amp;#34;); } åœ¨C#ä¸­æ‰€æœ‰é¡éƒ½æ˜¯&amp;quot;å¤šå‹&amp;quot;
 åœ¨è¨­è¨ˆæ™‚æœŸ(Design Time)  åŸºåº•é¡åˆ¥å¯ä»¥å®šç¾©å’Œå¯¦ä½œã€è™›æ“¬ã€‘å±¬æ€§æˆ–æ–¹æ³•(virtual) è¡ç”Ÿé¡åˆ¥å¯ä»¥ã€è¦†å¯«ã€‘é€™äº›è™›æ“¬çš„å±¬æ€§æˆ–æ–¹æ³•(override)   åœ¨åŸ·è¡Œæ™‚æœŸ(Runtime)  ç•¶å‘¼å«åŸºåº•é¡åˆ¥çš„è™›æ“¬æ–¹æ³•æ™‚ï¼Œæœƒæ”¹å‘¼å«å­é¡åˆ¥è¦†è“‹çš„æ–¹æ³•   åœ¨C#ä¸­ï¼Œæ‰€æœ‰é¡å‹éƒ½æ˜¯å¤šå‹é¡å‹  å› ç‚ºæ‰€æœ‰é¡å‹(åŒ…èª‡ä½¿ç”¨è€…å®šç¾©çš„é¡å‹)éƒ½æ˜¯ç¹¼æ‰¿è‡ªObject   å¦‚æœå†C#ä¸­è¨­è¨ˆé˜²æ­¢è¡ç”Ÿé¡åˆ¥è¦†è“‹è™›æ“¬æˆå“¡  public sealed override void Dowork(){}   å¤šè¼‰(Overloading)æ¯”è¼ƒæœ‰é»çˆ­è­°(æœ‰äº›äººèªç‚ºé€™ä¸ç®—å¤šå‹)  å…§èšåŠ›èˆ‡è€¦åˆåŠ›(Cohesion &amp;amp; Coupling) ä½•è¬‚&amp;quot;æ¨¡çµ„&amp;quot;(Module)  ä¸€å€‹æŠ½è±¡çš„æ¦‚å¿µ ä»¥C#èˆ‰ä¾‹  å¯èƒ½æ˜¯ä¸€å€‹é¡åˆ¥(Class) å¯èƒ½æ˜¯ä¸€å€‹æ–¹æ³•(method) å¯èƒ½æ˜¯ä¸€å€‹çµ„ä»¶(assembly)    å…§èšåŠ› Cohesion :::info ä»€éº¼æ˜¯å…§èšåŠ›?ä¸€æ¬¡å°ˆæ³¨åšä¸€ä»¶äº‹æƒ…ï¼Œé€™ä»¶äº‹æƒ…åšå¾—è¶Šå¥½ä»–çš„å…§èšåŠ›å°±è¶Šé«˜ :::
ä¸€å€‹æ¨¡çµ„å…§å®Œæˆä¸€ä»¶å·¥ä½œçš„åº¦é‡æŒ‡æ¨™
é«˜å…§èšåŠ› åœ¨ä¸€å€‹æ¨¡çµ„å…§åªå®Œæˆä¸€ä»¶å·¥ä½œ å…§èšåŠ›é«˜ï¼Œæ„å‘³è€…è©²æ¨¡çµ„å¯ä»¥ç¨ç«‹é‹ä½œï¼Œä¹Ÿæ„å‘³è€…æ›´å®¹æ˜“é‡è¤‡åˆ©ç”¨ ç¯„ä¾‹:ä¸€å€‹Classåªè² è²¬ä¸€ä»¶äº‹æƒ…(ä¾‹å¦‚å¯„é€éƒµä»¶)  ä½å…§èšåŠ› åœ¨ä¸€å€‹æ¨¡çµ„å…§å®Œæˆå¤šä»½å·¥ä½œ å…§èšåŠ›ä½ï¼Œæ„å‘³è€…é€™å€‹æ¨¡çµ„æœƒé€ æˆé›£ä»¥ç¶­è­·/æ¸¬è©¦/é‡ç”¨/ç†è§£ ç¯„ä¾‹:æ‰€æœ‰åŠŸèƒ½å¯«åœ¨ä¸€å€‹classè£¡é¢æˆ–ä¸€å€‹methodæœ‰500è¡Œç¨‹å¼ç¢¼  æœ€ä½³å¯¦å‹™ åœ¨è¨­è¨ˆæ¨¡çµ„çš„æ™‚å€™ï¼Œè¦ç›¡é‡è¨­è¨ˆå‡ºé«˜å…§èšåŠ›çš„ç¨‹å¼ç¢¼ã€‚ è‹¥è¦åœ¨ä¸€å€‹æ¨¡çµ„å…§å®Œæˆå¤šé …å·¥ä½œï¼Œå»ºè­°æ‹†æˆå¤šå€‹ä¸åŒçš„é¡åˆ¥ å¯¦ç¾SRPå°±æ˜¯å¯¦ç¾æé«˜å…§èšåŠ›çš„ä¸€ç¨®è¡¨ç¾  è€¦åˆåŠ› Coupling æ¨¡çµ„è·Ÿæ¨¡çµ„ä¹‹é–“çš„é—œè¯å¼·åº¦
 æ¨¡çµ„ä¹‹é–“äº’ç›¸ä¾è³´çš„ç¨‹åº¦ è¡¡é‡å…©å€‹æ¨¡çµ„çš„ç·Šå¯†é€£æ¥ç¨‹åº¦ ç¯„ä¾‹:åœ¨ClassBè£¡é¢ï¼Œç›´æ¥å»ºç«‹äº†ClassAçš„ç‰©ä»¶å¯¦é«”ï¼Œå°±æœƒå»ºç«‹ClassAèˆ‡ClassBä¹‹é–“çš„è€¦åˆé—œä¿‚ã€‚  é«˜è€¦åˆåŠ› æ„å‘³è€…ç•¶æ”¹äº†Aæ¨¡çµ„æ™‚ï¼Œç›¸é—œè¯çš„Bæ¨¡çµ„å°±æœƒå®¹æ˜“è¢«å½±éŸ¿(æ”¹Aå£B)  ä½è€¦åˆåŠ› ç•¶ä¿®æ”¹æ¨¡çµ„çš„æ™‚å€™ï¼Œæœ‰è¶Šå°‘çš„æ¨¡çµ„è¢«å½±éŸ¿ï¼Œå°±æ„å‘³è€…è€¦åˆåŠ›è¼ƒä½  æœ€ä½³å¯¦å‹™ åœ¨è¨­è¨ˆä¸åŒæ¨¡çµ„çš„æ™‚å€™ï¼Œè¦ç›¡é‡è¨­è¨ˆå‡ºä½è€¦åˆåŠ›çš„ç¨‹å¼ç¢¼ã€‚ å¯¦ç¾DIPå°±æ˜¯å¯¦ç¾é™ä½è€¦åˆåŠ›çš„ä¸€å€‹åŸå‰‡  :notebook: éš¨å ‚æ¸¬é©— è·Ÿå¤šå°‘å‹åˆ¥ç™¼ç”Ÿè€¦åˆ?
public class InvitaionService {  public void SendInvite(string email,string firstName,string lastName)  {  if(String.IsNullOrWhiteSpace(firstName))||(String.IsNullOrWhiteSpace(lastName))  {  throw new Exception(&amp;#34;Name is not vaild&amp;#34;);  }  }  if(!email.Contain(&amp;#34;@&amp;#34;)||email.Contains(&amp;#34;.&amp;#34;))  {  throw new Exception(&amp;#34;Email is not vaild!&amp;#34;);  }  SmtpClient client = new SmtpClient();  client.Send(new MailMessage(&amp;#34;mysite@google.com,email&amp;#34;))  {  Subject =&amp;#34;Please join me at my party!&amp;#34;  }  } Ans: stringã€Exceptionã€SmtpClientã€MailMessage è¨­è¨ˆå‡ºä¸€å€‹å¥½çš„ç¨‹å¼ å…§èšåŠ›è¶Šé«˜è¶Šå¥½ è€¦åˆåº¦è¶Šä½è¶Šå¥½ é«˜å…§èšã€ä½è€¦åˆ
 :notebook: éš¨å ‚æ¸¬é©— ä¸²è¯çš„è€¦åˆé—œä¿‚
public class Order {  private ShoppingCartContents cart;  private float salesTax;  public Order(ShoppingCartContents cart,float salesTax)  {  this.cart=cart;  this.salesTax=salesTax;  }  public float OrderTotal()  {  float cartTotal = 0;  for(int i=0;i&amp;lt;cart.item.length;i&#43;&#43;)  {  cart.item&#43;=cart.item[i].price;  }  return cart.item;  } } public class ShoppingCartContents {  public ShoppingCart[] items; } public class ShoppingCart {  public float Price;  public int Quanity; }  å®Œç¾ä¸Šä¾†çœ‹è¦å¯«å‡ºä½è€¦åˆé«˜å…§èšçš„ç¨‹å¼ç¢¼ï¼Œä½†ç¾å¯¦æ²’æœ‰é€™éº¼ç°¡å–®ï¼Œæ‰€ä»¥æˆ‘å€‘æ‰éœ€è¦ä¸€äº›åŸå‰‡ä¾†å¹«åŠ©æˆ‘å€‘é‡æ¸…ä»€éº¼æ¨£çš„ç¨‹å¼æ‰æ˜¯å¥½çš„
 ä»‹ç´¹SOLIDç‰©ä»¶å°å‘è¨­è¨ˆåŸå‰‡ ä½•è¬‚åŸå‰‡(Principle) A principleis a concept or value that is a guide for behavioror evaluation æ‰€è¬‚ã€åŸå‰‡ã€‘(Principle)å°±æ˜¯ä¸€ç¨®ã€æ¦‚å¿µã€‘æˆ–ã€åƒ¹å€¼ã€‘ï¼Œç”¨ä¾†å°å¼•ä½ ç”¢ç”Ÿé©åˆ‡çš„è¡Œç‚ºèˆ‡åƒ¹å€¼è©•é‡æ–¹æ³•  ç™½è©±æ–‡è§£é‡‹
 ä¾å¾ªSOLIDåŸå‰‡ï¼Œå¯ä»¥å¯«å‡ºæ¯”è¼ƒå¥½çš„ç¨‹å¼ç¢¼ ä¾å¾ªSOLIDåŸå‰‡ï¼Œèƒ½å¤ åˆ¤æ–·ç¨‹å¼ç¢¼çš„å¥½å£  èƒŒèµ·ä¾† :::info
 å–®ä¸€è²¬ä»»åŸå‰‡SRPï¼ˆSingle Responsibility Principleï¼‰ é–‹æ”¾å°é–‰åŸå‰‡OCP(Open Closed Principle) é‡Œæ°æ›¿æ›åŸå‰‡LSPï¼ˆLiskov Substitution Principleï¼‰ ä»‹é¢éš”é›¢åŸå‰‡ISPï¼ˆInterface Segregation Principleï¼‰ ç›¸ä¾åè½‰åŸå‰‡DIPï¼ˆDependence Inversion Principleï¼‰ :::  å­¸ç¿’SOLIDç‰©ä»¶å°å‘è¨­è¨ˆåŸå‰‡çš„å¥½è™•
 é™ä½ç¨‹å¼ç¢¼è¤‡é›œç¨‹åº¦ å…·æœ‰è¼ƒä½³ç¨‹å¼ç¢¼å¯è®€æ€§ æå‡æ¨¡çµ„å¯é‡è¤‡åˆ©ç”¨æ€§ è®“æ¨¡çµ„å…·æœ‰é«˜å…§èšï¼Œä½è€¦åˆåŠ› é¢è‡¨è®Šæ›´éœ€æ±‚æ™‚å¯æ¸›å°‘ç ´å£ç¾æœ‰æ¨¡çµ„çš„é¢¨éšª  å–®ä¸€è²¬ä»»åŸå‰‡SRP ä½•è¬‚è²¬ä»»(Responsibility)
 è²¬ä»»= reason to change (æ”¹è®Šçš„ç†ç”±) ç•¶ä¸€å€‹é¡åˆ¥æ“æœ‰å¤šå€‹ä¸åŒçš„è²¬ä»»ï¼Œæ„å‘³è€…ä¸€å€‹é¡åˆ¥è²¬ä»»å¤šé …ä¸åŒçš„å·¥ä½œï¼Œç•¶éœ€æ±‚è®Šæ›´æ™‚ï¼Œæ›´å‹•ä¸€å€‹é¡åˆ¥çš„ç†ç”±ä¹Ÿå¯èƒ½ä¸åªä¸€å€‹  ä»¥ä¸‹é¡åˆ¥æœ‰å¤šå°‘è²¬ä»»?public class OrderManger {  public bool LoadOrder()  {  //1.å»ºç«‹è³‡æ–™åº«é€£ç·š(åŒ…å«å¯«æ­»çš„é€£ç·šå­—ä¸²)  //2.åŸ·è¡ŒADO.NETè³‡æ–™å­˜å–(åŒ…å«è³‡æ–™å¡é¸)  //3.è·‘å›åœˆå–å¾—è³‡æ–™(åŒ…å«è³‡æ–™æ ¼å¼è½‰æ›)  //4.å›å‚³è³‡æ–™  }  } :thinking_face: æ€è€ƒ:æœ‰ä»€éº¼ç†ç”±æœƒéœ€è¦æ”¹å‹•åˆ°é€™å€‹class Ans:è³‡æ–™æ ¼å¼è®Šäº†ï¼Œé€£ç·šå­—ä¸²æ”¹è®Šï¼Œå¡é¸è³‡æ–™æ¢ä»¶è®Šäº†é—œæ–¼SRPçš„åŸºæœ¬ç²¾ç¥   ä¸€å€‹é¡åˆ¥è² æ“”å¤ªå¤šè²¬ä»»æ™‚ï¼Œæ„å‘³è€…è©²é¡åˆ¥å¯ä»¥è¢«åˆ‡å‰²
 å¯ä»¥é€éå®šç¾©ä¸€å€‹å…¨æ–°çš„é¡åˆ¥è¼•é¬†åšåˆ° å°é¡åˆ¥é€²è¡Œé©åº¦çš„åˆ‡å‰²ï¼Œæ–¹ä¾¿æ—¥å¾Œç®¡ç†èˆ‡ç¶­è­·    SRPä¸»è¦ç²¾ç¥å°±æ˜¯æé«˜å…§èšåŠ› é«˜å…§èšåŠ›æ„å‘³è€…å¯ä»¥æƒ³åˆ°ä¸€å€‹æ¸…æ¥šçš„ç†ç”±å»æ”¹å®ƒ!    ä½å…§èšåŠ›çš„ç¤ºæ„åœ–  SRPä¸»è¦ç²¾ç¥å°±æ˜¯åœ¨æé«˜å…§èšåŠ›
 å¸¸è¦‹çš„è¨­è¨ˆå•é¡Œ  å°‡æ‰€æœ‰åŠŸèƒ½å¯«åœ¨ä¸€å€‹é¡åˆ¥ä¸­ é¡åˆ¥è¤‡é›œåº¦éé«˜ ç¶­è­·æ™‚ç¶“å¸¸æ‰¾ä¸åˆ°æ‡‰è©²è¦æ”¹å“ªè£¡ ç™¼ç”Ÿé‚è¼¯å•é¡Œæ™‚æ‰¾ä¸åˆ°BUGåœ¨å“ªè£¡ ä½¿ç”¨é¡åˆ¥æ™‚ä¸çŸ¥é“æ‡‰è©²å‘¼å«å“ªå€‹æ–¹æ³•  é—œæ–¼SRPçš„ä½¿ç”¨æ™‚æ©Ÿ  å…©å€‹è²¬ä»»æœƒåœ¨ä¸åŒæ™‚é–“é»ç”¢ç”Ÿè®Šæ›´éœ€æ±‚  ç•¶ä½ æƒ³æ”¹è³‡æ–™åº«æŸ¥è©¢èªæ³•èˆ‡ä¿®æ”¹ç³»çµ±ç´€éŒ„çš„é‚è¼¯æ™‚ï¼Œéƒ½æœƒæ”¹åˆ°åŒä¸€å€‹é¡åˆ¥ï¼Œé‚£å°±éœ€è¦æ‹†é–‹!   é¡åˆ¥ä¸­æœ‰ä¸€æ®µç¨‹å¼ç¢¼æœ‰é‡è¤‡åˆ©ç”¨çš„éœ€æ±‚  é€™æ®µç¨‹å¼ç¢¼åœ¨å…¶ä»–é¡åˆ¥ä¹Ÿç”¨çš„åˆ°   ç³»çµ±ä¸­æœ‰å€‹éå¿…è¦çš„åŠŸèƒ½(æœªä¾†éœ€æ±‚)ï¼Œè€é—†åˆé€¼ä½ è¦å¯¦ä½œæ™‚  è²¬ä»»æœƒç›´æ¥ä¾é™„åœ¨é¡åˆ¥ä¸­ï¼Œä½†å°ç¶­è­·é€ æˆå›°é›£    ä¿®æ”¹å‰: è«‹å•ä»–æœ‰SRPå•é¡Œå—ï¼Œæœ‰çš„è©± è¦å¦‚ä½•é‡æ§‹
void Main() {  DataAccess.InsertData(); } class DataAccess {  public static void InsertData()  {  Console.WriteLine(&amp;#34;Data inserted into database successfully&amp;#34;);  Console.WriteLine(&amp;#34;Logged Time&amp;#34; &#43; DateTime.Now.ToLongTimeString()&#43;&amp;#34;Log Data insertion completed successfully&amp;#34;);  } } ä¿®æ”¹å¾Œ: å°‡å¯«å…¥è³‡æ–™ã€å¯«LOGæ‹†é–‹
class DataAccess {  public static void InsertData()  {  Console.WriteLine(&amp;#34;Data inserted into database successfully&amp;#34;);  Logger.Writelog();  } } class Logger {  public static void WriteLog()  {  Console.WriteLine(&amp;#34;Logged Time&amp;#34; &#43; DateTime.Now.ToLongTimeString()&#43;&amp;#34;Log Data insertion completed successfully&amp;#34;);  } } SRPè¨è«–äº‹é …  ä½ æ€æ¨£ç¢ºèªä¸€å€‹é¡åˆ¥è¢«è³¦äºˆäº†éå¤šçš„è²¬ä»»? å¥—ç”¨SRPå¯èƒ½æœ‰å‰¯ä½œç”¨ï¼Œå› ç‚ºé¡åˆ¥è®Šå¤šå°è‡´è€¦åˆåŠ›å¢åŠ    æé«˜è€¦åˆåŠ›ï¼Œæ„å‘³è€…&amp;quot;æ”¹Bå£A&amp;quot;çš„æ©Ÿæœƒå¤§å¹…å¢åŠ ! é—œæ–¼SRPé‚„éœ€è¦æ³¨æ„çš„äº‹  åƒè€ƒYAGNI(You Ain&amp;rsquo;t Gonna Need It)åŸå‰‡  ä¸ç”¨æ€¥æ–¼åœ¨ç¬¬ä¸€æ™‚é–“å°±å°ˆæ³¨æ–¼åˆ†é›¢è²¬ä»» å°šæœªå‡ºç¾çš„éœ€æ±‚(æœªä¾†çš„éœ€æ±‚)ä¸éœ€è¦é å…ˆåˆ†é›¢è²¬ä»» ç•¶éœ€æ±‚è®Šæ›´çš„æ™‚å€™ï¼Œå†é€²è¡Œé¡åˆ¥åˆ†å‰²å³å¯!   SRPæ˜¯SOLIDä¸­ç°¡å–®çš„ï¼Œä½†å»æ˜¯æœ€é›£åšåˆ°çš„  éœ€è¦ä¸æ–·æå‡ä½ çš„é–‹ç™¼ç¶“é©—èˆ‡é‡æ§‹æŠ€è¡“ å¦‚æœæ²’æœ‰è¶³å¤ çš„ç¶“é©—å»å®šç¾©ä¸€å€‹ç‰©ä»¶çš„Reponsibilityé‚£éº¼å»ºè­°ä½ ä¸è¦éæ—©é€²è¡ŒSRPè¦åŠƒ!    :notebook: ç·´ç¿’æƒ…å¢ƒ è«‹è©¦è€…æ‰¾å‡ºOrderManngeré¡åˆ¥ï¼Œä¸ç¬¦åˆ å–®ä¸€è²¬ä»»åŸå‰‡åœ°æ–¹ è«‹æŒ‡å‡ºé€™å€‹é¡åˆ¥æ˜¯å¦é•åäº†SRPåŸå‰‡? è«‹èªªæ˜ç†ç”±èˆ‡å¦‚ä½•æ”¹å–„
public class OrderManaer {  public List&amp;lt;Product&amp;gt; products=new List&amp;lt;Product&amp;gt;();  public void Processing()  {  //1.æª¢æŸ¥å•†å“åº«å­˜æ•¸é‡æ˜¯å¦è¶³å¤   //2.é€²è¡Œä»˜æ¬¾è™•ç†ç¨‹åº  //3.é€²è¡Œé€è²¨è™•ç†ç¨‹åº  } } è«‹è©¦è€…ä¿®æ­£è©²OrderManageré¡åˆ¥ï¼Œä½¿å…¶ç¬¦åˆ å–®ä¸€è²¬ä»»åŸå‰‡ å°‡å¤šå€‹è²¬ä»»ä½¿ç”¨æ–°é¡åˆ¥åˆ†é›¢å‡ºä¾†ï¼Œä½†é‚„æœ‰ä»€éº¼å•é¡Œ?
public class Product{} public class Cstomer{} public class Stock {  public void checkAvailability(  IEnumerable&amp;lt;Product&amp;gt; products){} } public class Payment {  public void Processing(  Customer customer,  IEnumerable&amp;lt;Product&amp;gt; product){} } public class Shipment {  public void SendProducts(  Customer customer,  IEnumerable&amp;lt;Product&amp;gt; products){} } public class OrderManger {  public List&amp;lt;Product&amp;gt; Products=new List&amp;lt;Product&amp;gt;();  public Customer Customer{get;set;}  public OrderManger()  {   }  public void Processing()  {  new Stock().CheckAvailability(Products);  new Payment().Processing(Customer,Products);  new Shipment().SendProducts(Customer,Products);  } } è‹¥å®¢æˆ¶æƒ³è¦å¢åŠ Lie Pay ä»˜æ¬¾æ–¹æ³•ï¼Œè¦æ”¹å¤šå°‘Code?ç›®å‰æœƒæœ‰é«˜è€¦åˆçš„å•é¡Œ
é–‹æ”¾å°é–‰åŸå‰‡OCP  Software entities(classes,modules,functions,etc.) should be open for extensionbut closed for modification è»Ÿé«”å¯¦é«”(é¡åˆ¥ã€æ¨¡çµ„ã€å‡½å¼ç­‰)æ‡‰èƒ½é–‹æ”¾æ“´å……ä½†å°é–‰ä¿®æ”¹ è—‰ç”±å¢åŠ æ–°çš„ç¨‹å¼ç¢¼ä¾†æ“´å……ç³»çµ±çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯è—‰ç”±ä¿®æ”¹åŸæœ¬å·²ç¶“å­˜åœ¨çš„ç¨‹å¼ç¢¼ä¾†æ“´å……ç³»çµ±  é—œæ–¼OCPçš„åŸºæœ¬ç²¾ç¥  ä¸€å€‹é¡åˆ¥éœ€è¦é–‹æ”¾ï¼Œæ„å‘³è€…è©²é¡åˆ¥å¯ä»¥è¢«æ“´å……!  å¯ä»¥é€éç¹¼æ‰¿è¼•é¬†åšåˆ° C#é‚„æœ‰æ“´å……æ–¹æ³•å¯ä»¥è¼•é¬†æ“´å……æ—¢æœ‰é¡åˆ¥   ä¸€å€‹é¡åˆ¥éœ€è¦å°é–‰ï¼Œæ„å‘³è€…æœ‰å…¶ä»–äººæ­£åœ¨ä½¿ç”¨é€™å€‹é¡åˆ¥!  å¦‚æœç¨‹å¼å·²ç¶“ç·¨è­¯ï¼Œä½†åˆå·²ç¶“æœ‰äººåœ¨ä½¿ç”¨åŸæœ¬çš„é¡åˆ¥ å°é–‰ä¿®æ”¹å¯ä»¥æœ‰æ•ˆé¿å…æœªçŸ¥çš„å•é¡Œç™¼ç”Ÿ    å¸¸è¦‹çš„è¨­è¨ˆå•é¡Œ è€¦åˆåŠ›éé«˜ï¼Œæ“´å……ä¸æ˜“ é—œæ–¼OCPçš„å¯¦ä½œæ–¹å¼  æ¡ç”¨åˆ†é›¢èˆ‡ç›¸ä¾çš„æŠ€å·§(ç›¸ä¾æ–¼æŠ½è±¡)  ç¼ºé»:éœ€è¦é‡å°åŸæœ‰ç¨‹å¼ç¢¼é€²è¡Œé‡æ§‹     é—œæ–¼OCPçš„C#ç¯„ä¾‹ é€éæŠ½è±¡é¡åˆ¥é™åˆ¶å…¶ä¿®æ”¹ï¼Œä¸¦é€éç¹¼æ‰¿é–‹æ”¾æ“´å……ä¸åŒå¯¦ä½œ
é—œæ–¼OCPçš„ä½¿ç”¨æ™‚æ©Ÿ  ä½ æ—¢æœ‰çš„é¡åˆ¥å·²ç¶“è¢«æ¸…æ¥šå®šç¾©ï¼Œè™•æ–¼ä¸€å€‹å¼·èª¿ç©©å®šçš„ç‹€æ…‹ ä½ éœ€è¦æ“´å……ç¾æœ‰é¡åˆ¥ï¼ŒåŠ å…¥æ–°éœ€æ±‚çš„å±¬æ€§æˆ–æ–¹æ³• ä½ æ“”å¿ƒä¿®æ”¹ç¾æœ‰ç¨‹å¼ç¢¼æœƒç ´å£ç¾æœ‰ç³»çµ±çš„é‹ä½œ ç³»çµ±å‰›é–‹å§‹è¨­è¨ˆæ™‚å°±æ±ºå®šæ¡ç”¨OCPæ¨¡å¼  å¯ä»¥é€éä»‹é¢æˆ–æŠ½è±¡é¡åˆ¥é€²è¡Œå¯¦ä½œ    OCPè¨è«–äº‹é …  ç•¶æ‚¨å‰›æ¥å—ç¶­è­·ä¸€ä»½2å¹´å‰çš„ç¨‹å¼ç¢¼ï¼Œä½ æœƒæ€æ¨£åš?  ä¿®æ”¹ä¹‹å‰å¯«éçš„é¡åˆ¥? æ“´å……ä¹‹å‰å¯«éçš„é¡åˆ¥? ç›´æ¥ä¿®æ”¹èˆŠæœ‰åŸå§‹ç¢¼ï¼Œæœƒæœ‰å“ªäº›é¢¨éšªå­˜åœ¨å‘¢?   å¦‚ä½•è®“ç³»çµ±åœ¨æ“´å……éœ€æ±‚æ™‚æ›´ç°¡å–®ã€æ›´å®¹æ˜“ã€æ›´å®‰å…¨? C#å¯ä»¥é€éinterfaceå¯¦è¸OCPåŸå‰‡å—?å¦‚ä½•åšåˆ°? å¦‚ä½•é€²è¡ŒæŠ½è±¡åŒ–è¨­è¨ˆ?å¤šå°‘äººç”¨éC#æŠ½è±¡é¡åˆ¥?   Q&amp;amp;A: æŠ½è±¡é¡åˆ¥è·ŸInterfaceå·®åˆ¥ æŠ½è±¡é¡åˆ¥ =&amp;gt;å¯ä»¥åŒ…å«å¯¦ä½œ(è€¦åˆåº¦å¢åŠ ):notebook: ç·´ç¿’æƒ…å¢ƒ è©¦è€…é€éOCPåŸå‰‡é‡æ§‹ç¨‹å¼ç¢¼ è‹¥å®¢æˆ¶æƒ³è¦å¢åŠ Logè¼¸å‡ºåˆ°æª”æ¡ˆçš„åŠŸèƒ½ï¼Œä½ æœƒå¦‚ä½•æ”¹å¯«ç¨‹å¼ç¢¼?
public class AppEvent {  public void GenerateEvent(string message)  {  Logger fooLogger =new Logger();  fooLogger.Log(message);  } } public class Logger {  public void Log(string message)  {  Console.WriteLine(message);  } } æ²’å­¸éSOLIDçš„é–‹ç™¼è€…ï¼Œå¯èƒ½æœƒé€™æ¨£å¯«
public class AppEvent {  public void GenerateEvent(string message)  {  Logger fooLogger =new Logger();  fooLogger.Log(message);  } } public class Logger {  private readonly string _Target;  public Logger(string target){_Target =target;}  public void Log(string message)  {  if(_Targer == &amp;#34;Console&amp;#34;)  Console.WriteLine(message);  else if(_Target == &amp;#34;File&amp;#34;)  File.WriteAllText(&amp;#34;MyLog&amp;#34;,message);  else  throw new NotImplementedException();  } } æ­¤æ™‚ï¼Œè‹¥åˆæƒ³è¦å¢åŠ è¨Šæ¯å‚³é€åˆ°é ç«¯Web APIæˆ–Storageå‘¢?
  æ¡ç”¨åˆ†é›¢èˆ‡ç›¸ä¾çš„æŠ€å·§  public interface ILogger {  void Log(string message); } public class ConsoleLogger:ILogger {  public void Log(string message)  {  Console.WriteLine(message);  } } public class FileLogger:ILogger {  public void Log(string message)  {  File.WriteAllText(&amp;#34;MyLog&amp;#34;,message)  } } public class AppEvent {  private readlony ILogger _Logger;  public AppEvent(string loggerType)  {  this._logger = LoggerFactory.CreateLogger(loggerType);  }  public void GenerateEvent(string message)  {  _Logger.Log(message);  } } public class LoggerFactory {  public static ILogger CreateLogger(string loggerType)  {  if(loggerType ==&amp;#34;Console&amp;#34;)  return new ConsoleLogger();  else if(loggerType==&amp;#34;File&amp;#34;)  return new FileLogger();  else throw new NotImplementedException();   } } å¦‚æœè¦æ–°å¢ä¸€å€‹logï¼Œè¦æ–°å¢ä¸€å€‹classç¹¼æ‰¿Ilogger åœ¨LoggerFactoryå¢åŠ 
é‡Œæ°æ›¿æ›åŸå‰‡LSP  Subtypesmustbe substitutable for their base types. subtypes(è¡ç”Ÿé¡åˆ¥) = é¡åˆ¥ base types(åŸºåº•é¡åˆ¥) =ä»‹é¢ã€æŠ½è±¡é¡åˆ¥ã€åŸºåº•é¡åˆ¥   å­å‹åˆ¥å¿…é ˆå¯æ›¿æ›ç‚ºä»–çš„åŸºåº•å‹åˆ¥ å¦‚æœä½ çš„ç¨‹å¼æœ‰æ¡ç”¨ç¹¼æ‰¿æˆ–ä»‹é¢ï¼Œç„¶å¾Œå»ºç«‹å‡ºå¹¾å€‹ä¸åŒçš„è¡ç”Ÿå‹åˆ¥(Subtype)ã€‚åœ¨ä½ çš„ç³»çµ±ä¸­åªè¦æ˜¯åŸºåº•å‹åˆ¥å‡ºç¾çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç”¨å­å‹åˆ¥ä¾†å–ä»£ï¼Œè€Œä¸æœƒç ´å£ç¨‹å¼åŸæœ‰çš„è¡Œç‚ºã€‚  é—œæ–¼LSPçš„åŸºæœ¬ç²¾ç¥  ç•¶å¯¦ä½œç¹¼æ‰¿æ™‚ï¼Œå¿…é ˆç¢ºä¿å‹åˆ¥è½‰æ›å¾Œé‚„èƒ½å¾—åˆ°æ­£ç¢ºçš„çµæœ  ç•¶æ¯å€‹è¡ç”Ÿé¡åˆ¥éƒ½å¯ä»¥æ­£ç¢ºåœ°æ›¿æ›ç‚ºåŸºåº•é¡åˆ¥ï¼Œä¸”ç¨‹å¼åœ¨åŸ·è¡Œæ™‚ä¸æœƒæœ‰ç•°å¸¸çš„æƒ…æ³(å¦‚ç™¼ç”ŸåŸ·è¡Œæ™‚æœŸä¾‹å¤–) å¿…é ˆæ­£ç¢ºçš„å¯¦ä½œç¹¼æ‰¿èˆ‡å¤šå‹    å¸¸è¦‹çš„è¨­è¨ˆå•é¡Œ   ä¸æ­£ç¢ºçš„å¯¦ä½œç¹¼æ‰¿èˆ‡å¤šå‹
 ç¬¬ä¸€ç‰ˆï¼šæ²’æœ‰ç¹¼æ‰¿ï¼Œå–®ç´”çš„è¨ˆç®—çŸ©å½¢é¢ç© ç¬¬äºŒç‰ˆï¼šæ–°å¢éœ€æ±‚ï¼Œå¢åŠ Squareé¡åˆ¥(å¥—ç”¨OCPåŸå‰‡) ç¬¬ä¸‰ç‰ˆï¼šé‡æ§‹ç¨‹å¼ï¼Œæ­£ç¢ºå¥—ç”¨LSPåŸå‰‡    å¯¦ä½œç¹¼æ‰¿æ™‚ï¼Œåœ¨ç‰¹å®šæƒ…æ³ä¸‹ç™¼ç”ŸåŸ·è¡Œæ™‚æœŸéŒ¯èª¤(Runtime Error)
 ç¯„ä¾‹ç¨‹å¼ é•åLSPåŸå‰‡æœ‰æ™‚å€™è¼ƒé›£ç™¼ç¾    ç¬¬ä¸€ç‰ˆ:
void Main() {  Rectangle o = new Rectangle();  o.Width = 40;  o.Height =50;  LSPBehavior.GetArea(o).Dump(); } public class Rectangle {  public int Height{get;set;}  public int Width{get;set;} } public class LSPBehavior {  public static int GetArea(Rectangle s)  {  if(s.Width&amp;gt;20)  {  s.Width = 20;  }  return s.Width * s.Height;  } } ç¬¬äºŒç‰ˆ(OCPåŸå‰‡):
void Main() {  Square o = new Square();  o.Width = 40;  //o.Height =40;  LSPBehavior.GetArea(o).Dump(); } public class Rectangle {  public int Height{get;set;}  public int Width{get;set;} } public class Square:Rectangle {  private int _height;  private int _width;  public int Height  {  get{return _height;}  set{_height = _width =value;}  }  public int Width  {  get{return _width;}  set{_width = _height =value;}  } } public class LSPBehavior {  public static int GetArea(Rectangle s)  {  if(s.Width&amp;gt;20)  {  s.Width = 20;  }  return s.Width * s.Height;  } } ç­”æ¡ˆæœƒæ˜¯å¤šå°‘?ç¬¬äºŒç‰ˆä¸ç¬¦åˆLSP
ç¬¬ä¸‰ç‰ˆ(LSP):
void Main() {  Square o = new Square();  o.Width = 40;  //o.Height =40;  LSPBehavior.GetArea(o).Dump(); } public class Rectangle {  public virtual int Height{get;set;}  public virtual int Width{get;set;} } public class Square:Rectangle {  private int _height;  private int _width;  public override int Height  {  get{return _height;}  set{_height = _width =value;}  }  public override int Width  {  get{return _width;}  set{_width = _height =value;}  } } public class LSPBehavior {  public static int GetArea(Rectangle s)  {  if(s.Width&amp;gt;20)  {  s.Width = 20;  }  return s.Width * s.Height;  } } å–„ç”¨virtual &amp;amp; override
 ç¬¬äºŒå€‹ä¾‹å­(ä¸ç¬¦åˆLSP)
class Customer {  public virtual double getDiscount(double TotalSales)  {  return TotalSales  }  public virtual void Add()  {   } } class GoldCustomer : Customer {  public override double getDiscount(double TotalSales)  {  return base.getDiscount(TotalSales) - 5;  }  public override void Add()  {  Console.WriteLine(&amp;#34;GoldCustomer:Add&amp;#34;);  } } class SilverCustomer:Customer {  public overide double getDiscount(double TotalSales)  {  return base.getDiscount(TotalSales) - 5;  }  public override void Add()  {  Console.WriteLine(&amp;#34;SilverCustomer:Add&amp;#34;);  } } class Enquiry:Customer {  public overide double getDiscount(double TotalSales)  {  return base.getDiscount(TotalSales) - 5;  }  public override void Add()  {  Console.WriteLine(&amp;#34;Not allowed&amp;#34;);  } } void Main() {  List&amp;lt;Customer&amp;gt; Customers = new List&amp;lt;Customer)();  Customer.Add(new SilverCustomer());  Customer.Add(new GoldCustomer());  Customer.Add(new Enquiry());   foreach(Customer o in Customers)  {  o.Add();  } } æœ‰æ²’æœ‰äººé€™æ¨£è§£æ±º?
class Enquiry:Customer {  public overide double getDiscount(double TotalSales)  {  return base.getDiscount(TotalSales) - 5;  }  public override void Add()  {   } } ä¿®æ­£(ç¬¦åˆLSP)
interface IDiscount {  double getDiscount(double TotalSales); } interface IDatabase {  } class Customer:IDatabase,IDiscount {  public virtual double getDiscount(double TotalSales)  {  return TotalSales  }  public virtual void Add()  {   } } class GoldCustomer : Customer {  public override double getDiscount(double TotalSales)  {  return base.getDiscount(TotalSales) - 5;  }  public override void Add()  {  Console.WriteLine(&amp;#34;GoldCustomer:Add&amp;#34;);  } } class SilverCustomer:Customer {  public overide double getDiscount(double TotalSales)  {  return base.getDiscount(TotalSales) - 5;  }  public override void Add()  {  Console.WriteLine(&amp;#34;SilverCustomer:Add&amp;#34;);  } } class Enquiry:IDiscount {  public overide double getDiscount(double TotalSales)  {  return base.getDiscount(TotalSales) - 5;  }  public override void Add()  {  Console.WriteLine(&amp;#34;Not allowed&amp;#34;);  } } void Main() {  List&amp;lt;Customer&amp;gt; Customers = new List&amp;lt;Customer)();  Customer.Add(new SilverCustomer());  Customer.Add(new GoldCustomer());  Customer.Add(new Enquiry());   foreach(Customer o in Customers)  {  o.Add();  } } å„ªé»:é€™æ¨£åœ¨ç·¨è­¯æ™‚æœŸå°±å¯ä»¥çœ‹å‡ºéŒ¯èª¤
é—œæ–¼LSPçš„å¯¦ä½œ  æ¡ç”¨é¡åˆ¥ç¹¼æ‰¿æ–¹å¼ä¾†é€²è¡Œé–‹ç™¼  é ˆæ³¨æ„ç¹¼æ‰¿çš„å¯¦ä½œæ–¹å¼   æ¡ç”¨åˆç´„è¨­è¨ˆæ–¹å¼ä¾†é€²è¡Œé–‹ç™¼  åˆ©ç”¨ä»‹é¢(interface)ä¾†å®šç¾©åŸºåº•å‹åˆ¥(base type)    é—œæ–¼LSPçš„ä½¿ç”¨æ™‚æ©Ÿ  ç•¶ä½ éœ€è¦é€éåŸºåº•å‹åˆ¥å°å¤šå‹ç‰©ä»¶é€²è¡Œæ“ä½œæ™‚  LSPè¨è«–äº‹é …  åœ¨æ•™å°æ–°äººæ™‚ï¼Œå¦‚ä½•æœ‰æ•ˆçš„é¿å…ç¹¼æ‰¿çš„éŒ¯èª¤å¯¦ä½œ? ä½ æœƒç”¨æŠ½è±¡é¡åˆ¥ã€é¡åˆ¥æˆ–ä»‹é¢ä¾†å¯¦ç¾LSPåŸå‰‡? ç‚ºä»€éº¼?  ä»‹é¢éš”é›¢åŸå‰‡ISP   A:Many client specific interfacesare better thanone general purpose interface.  B:Clients should notbe forcedto depend upon interfacethat they don&amp;rsquo;t use.  A:å¤šå€‹ç”¨æˆ¶ç«¯å°ˆç”¨çš„ä»‹é¢å„ªæ–¼ä¸€å€‹é€šç”¨éœ€æ±‚ä»‹é¢  B:ç”¨æˆ¶ç«¯ä¸æ‡‰è©²å¼·è¿«ç›¸ä¾æ–¼æ²’ç”¨åˆ°çš„ä»‹é¢  é‡å°ä¸åŒéœ€æ±‚çš„ç”¨æˆ¶ç«¯ï¼Œåƒ…é–‹æ”¾å…¶å°æ‡‰éœ€æ±‚çš„ä»‹é¢å°±å¥½
  é—œæ–¼ISPçš„åŸºæœ¬ç²¾ç¥  æŠŠä¸åŒéœ€æ±‚çš„å±¬æ€§èˆ‡æ–¹æ³•ï¼Œæ”¾åœ¨ä¸åŒçš„ä»‹é¢ä¸­  ä¸è¦è®“ä½ çš„interfaceåŒ…å±±åŒ…æµ· ç‰¹å®šéœ€æ±‚æ²’ç”¨åˆ°çš„åœ°æ–¹ï¼Œä¸è¦åŠ åˆ°ä»‹é¢ä¸­ï¼Œå¦å¤–å»ºä¸€å€‹ å¯ä»¥æ‹¿interfaceç•¶æˆç¾¤çµ„ä¾†ç”¨(å±¬æ€§èˆ‡æ–¹æ³•)   ä½¿å¾—ç³»çµ±å¯ä»¥æ›´å®¹æ˜“çš„é”æˆé¬†æ•£è€¦åˆã€å®‰å…¨é‡æ§‹ã€åŠŸèƒ½æ“´å……  å¸¸è¦‹çš„è¨­è¨ˆå•é¡Œ  å°‡æ‰€æœ‰APIéœ€æ±‚éƒ½å®šç¾©åœ¨ä¸€å€‹è¶…å¤§ä»‹é¢ä¸­ ç”¨æˆ¶ç«¯ç›¸ä¾æ–¼ä¸€å †ç”¨ä¸åˆ°å¾—ä»‹é¢æ–¹æ³•  å¦‚æœå¤šå€‹é¡åˆ¥å·²ç¶“å¯¦ä½œåŒä¸€å€‹èƒ–ä»‹é¢ å°±æœƒå°è‡´æŸäº›åˆ¥å¯¦ä½œå‡ºç”¨æˆ¶ç«¯ç”¨ä¸åˆ°çš„æ–¹æ³• é€™æ™‚æ‡‰è©²å¯ä»¥æ‹†åˆ†å¤šçš„ç”¨æˆ¶ç«¯å°ˆç”¨çš„ä»‹é¢é€²è¡Œå¯¦ä½œ æ‰€ä»¥ä¸€å€‹å¯¦ä½œä»‹é¢çš„é¡åˆ¥ï¼Œä¸æ‡‰è©²å¼·è¿«å»å¯¦ä½œå‡ºé€™å€‹é¡åˆ¥ä¸éœ€è¦çš„æ–¹æ³•(å‚™è¨»:é€™è£¡çš„ä¸éœ€è¦æ˜¯æŒ‡ç”¨æˆ¶ç«¯ä¸éœ€è¦)    é—œæ–¼ISPçš„ä½¿ç”¨æ™‚æ©Ÿ  ç•¶ä»‹é¢éœ€è¦è¢«åˆ†å‰²çš„æ™‚å€™ é¡åˆ¥çš„ä½¿ç”¨æ™‚æ©Ÿå¯ä»¥è¢«åˆ‡å‰²çš„æ™‚å€™  å‡è¨­é¡åˆ¥æœ‰20å€‹æ–¹æ³•ï¼Œä¸¦å¯¦ä½œä¸€å€‹15å€‹æ–¹æ³•çš„ä»‹é¢ æœ‰æŸå€‹ç”¨æˆ¶ç«¯åªæœƒä½¿ç”¨è©²é¡åˆ¥ä¸­çš„10å€‹æ–¹æ³• ä½ å°±å¯ä»¥ç‚ºé€™é¡åˆ¥çš„10å€‹æ–¹æ³•å®šç¾©ä»‹é¢ä¸¦è¨­å®šå¯¦ä½œä»‹é¢ ä½ çš„ç”¨æˆ¶ç«¯å°±å¯ä»¥æ”¹ç”¨ä»‹é¢æ“ä½œ é€™å€‹éç¨‹ä¹Ÿå¯ä»¥ç”¨ä¾†é™ä½ä¸»ç¨‹å¼èˆ‡é€™å€‹é¡åˆ¥çš„è€¦åˆåŠ›     æœ‰æ²’æœ‰ç¬¦åˆISPç²¾ç¥?
void Main() {  Console.Writenline(&amp;#34;\n\nOpen Close Principle Demo &amp;#34;);  DataProvider DataProviderObject = new SqlDataProvider();  DataProviderObject.OpenProviderObject();  DataProviderObject.ExcuteCommand();  DataProviderObject.CloseConnection(); } interface DataProvider {  int OpenConnection();  int CloseConnection();  int ExcuteCommand();  int BeginTransation(); } class SqlDataProvider:DataProvider {  public int OpenConnection()  {  Console.WriteLine(&amp;#34;  \nSql Connection opened successfully&amp;#34;);  }  public int CloseConnection()  {  Console.WriteLine(&amp;#34;  Sql Connection Close successfully&amp;#34;);  }  public int ExecuteCommand()  {  Console.WriteLine(&amp;#34;  Sql Command Executed successfully&amp;#34;);  }  public int BeginTransaction()  {  Console.WriteLine(&amp;#34;  Sql BeginTransaction successfully&amp;#34;);  } } Q&amp;amp;A:æ²’æœ‰ BeginTransactionæ²’ç”¨åˆ° ä¿®æ­£ç‰ˆ:
void Main() {  Console.Writenline(&amp;#34;\n\nOpen Close Principle Demo &amp;#34;);  DataProviderWithoutTransaction DataProviderObject = new SqlDataProvider();  DataProviderObject.OpenConnection();  DataProviderObject.ExcuteCommand();  DataProviderObject.CloseConnection(); } interface DataProviderWithoutTransaction {  int OpenConnection();  int CloseConnection();  int ExcuteCommand(); } interface DataProvider:DataProviderWithoutTransaction {  int BeginTransaction(); } class SqlDataProvider:DataProvider {  public int OpenConnection()  {  Console.WriteLine(&amp;#34;  \nSql Connection opened successfully&amp;#34;);  }  public int CloseConnection()  {  Console.WriteLine(&amp;#34;  Sql Connection Close successfully&amp;#34;);  }  public int ExecuteCommand()  {  Console.WriteLine(&amp;#34;  Sql Command Executed successfully&amp;#34;);  }  public int BeginTransaction()  {  Console.WriteLine(&amp;#34;  Sql BeginTransaction successfully&amp;#34;);  } } ISP è¨è«–äº‹é …  ä½ å·¥ä½œä¸­æ˜¯å¦æœ‰è¨­è¨ˆéè¶…å¤§ä»‹é¢çš„ç¶“é©—? è¨­è¨ˆä»‹é¢çš„æ™‚å€™ï¼Œä»‹é¢çš„å¤§å°æ‡‰è©²å¦‚ä½•åˆ¤æ–·?å¦‚ä½•ç¾¤çµ„? ä»‹é¢å¯ä»¥å¯¦ä½œä»‹é¢ï¼Œä½¿ç”¨çš„æ™‚æ©Ÿç‚ºä½•?  ä¾‹å­2
void Main() {  Console.WriteLine(&amp;#34;\n\nOpen Close Principle Demo&amp;#34;);  IReadAndWrite Logger = new Logger();  Logger.Write();  Logger.Read(); } interface IReadAndWrite {  string Read();  void Write(); } class Logger:IReadAndWrite {  public string Read(){return &amp;#34;&amp;#34;;}  public void Write(){} } éœ€æ±‚è®Šäº† ç”±ç”¨æˆ¶ç«¯ä¾†é¸æ“‡è¦ç”¨çš„interface
void Main() {  Console.WriteLine(&amp;#34;\n\nOpen Close Principle Demo&amp;#34;);  IWritable Logger = new Logger();  Logger.Write();  Logger.Read(); } interface IReadable {  string Read(); } interface IWritable {  void Write(); } interface IReadAndWrite:IReadable,IWritable {  } class Logger:IReadAndWrite,IReadable,IWritable {  public string Read(){return &amp;#34;&amp;#34;;}  public void Write(){} } ä¾‹å­3 main è·Ÿå¤šå°‘å‹åˆ¥ç™¼ç”Ÿç›¸ä¾ Q&amp;amp;A:å…©å€‹
void Main() {  IDatabase cust = new Customer();  cust.Add(); } interface IDatebase {  void Add(); } class Customer:IDatebase {  public void Add()  {  Console.WrtieLine(&amp;#34;Add something&amp;#34;);  } } ä¾‹å­4 è©¦è€…æ‰¾å‡ºè©²IAllnOnceCarä»‹é¢ ä¸ç¬¦åˆä»‹é¢éš”é›¢å‰‡åœ°æ–¹
public void Main() {  Driver o = new Driver();  o.StartEngine();  o.Drive();  o.StopEngine(); } public interface IAllInOneCar {  void StartEngine();  void Drive();  void StopEngine();  void ChangeEngine(); } public class Driver:IAllInOneCar {  public void ChangeEngine(){  throw new NotImplementedException();}  public void Drive(){}  public void StartEngine(){}  public void StopEngine(){} } ä¿®æ­£å¾Œçµæœ
public void Main() {  IDriver o = new Driver();  o.StartEngine();  o.Drive();  o.StopEngine(); } public interface IDriver {  void StartEngine();  void Drive();  void StopEngine(); } public class Driver:IDriver {  public void Drive(){}  public void StartEngine(){}  public void StopEngine(){} } public interface IMachanic {  void ChangeEngine(); } public Machanic:IMachanic {  public void ChangeEngine()  {  throw new NotImplementedException();  } } ç›¸ä¾åè½‰åŸå‰‡DIP   A.High-level modulesshould not depend on low-level modules.Both should depend on abstractions.  B.Abstractionsshould notdepend on details.Detailsshould depend on abstractions.  A.é«˜éšæ¨¡çµ„ä¸æ‡‰è©²ä¾è³´æ–¼ä½éšæ¨¡çµ„ï¼Œå…©è€…éƒ½æ‡‰ç›¸ä¾æ–¼æŠ½è±¡ é«˜éšæ¨¡çµ„=&amp;gt;Caller(å‘¼å«ç«¯) ä½éšæ¨¡çµ„=&amp;gt;Callee(è¢«å‘¼å«ç«¯)    B.æŠ½è±¡ä¸æ‡‰è©²ç›¸ä¾æ–¼ç´°ç¯€ï¼Œè€Œç´°ç¯€å‰‡æ‡‰è©²ç›¸ä¾æ–¼æŠ½è±¡  é—œæ–¼DIPçš„åŸºæœ¬ç²¾ç¥  æ‰€æœ‰é¡åˆ¥éƒ½è¦ç›¸ä¾æ–¼æŠ½è±¡ï¼Œè€Œä¸æ˜¯å…·é«”å¯¦ä½œ  å¯é€éDI Containeré”åˆ°ç›®çš„   ç‚ºäº†è¦é”åˆ°é¡åˆ¥é–“é¬†æ•£è€¦åˆçš„ç›®çš„  é–‹ç™¼éç¨‹ä¸­ï¼Œæ‰€æœ‰é¡åˆ¥ä¹‹é–“çš„è€¦åˆé—œä¿‚ä¸€å¾‹é€éæŠ½è±¡ä»‹é¢    å¸¸è¦‹çš„è¨­è¨ˆå•é¡Œ  é¡åˆ¥èˆ‡é¡åˆ¥ä¹‹é–“ç·Šå¯†è€¦åˆï¼Œæ”¹Aå£Bçš„ç‹€æ³å±¤å‡ºä¸çª®  public class Client {  Service _Service;  public void Client()  {  Service fooObj= new Service();  } } public class Service(); ä»€éº¼æ˜¯ç›¸ä¾åè½‰?
public class Client {  IService _Service;  public void Client(IService service)  {  _Service = service;  } } public interface IService{} public class MyService:IService{} public class YourService:IService{} public class TheirService:IService{} é—œæ–¼DIPçš„å¯¦ä½œæ–¹å¼  å‹åˆ¥å…¨éƒ¨éƒ½ç›¸ä¾æ–¼æŠ½è±¡ï¼Œè€Œä¸æ˜¯å…·é«”å¯¦ä½œ ç¶“éå¥—ç”¨DIPä¹‹å¾Œï¼ŒåŸä¾†æœ‰ç›¸ä¾æ–¼é¡åˆ¥çš„ç¨‹å¼ç¢¼  éƒ½æ”¹æˆç›¸ä¾æ–¼æŠ½è±¡å‹åˆ¥ å¾ç·Šå¯†è€¦åˆé—œä¿‚è®Šæˆé¬†æ•£å¶åˆé—œä¿‚ å¯ä»¥ä¾æ“šéœ€æ±‚ï¼Œéš¨æ™‚æŠ½æ›å…·é«”å¯¦ä½œé¡åˆ¥    é—œæ–¼DIPçš„ä½¿ç”¨æ™‚æ©Ÿ  åƒè¦é™ä½è€¦åˆçš„æ™‚å€™ å¸Œæœ›é¡åˆ¥éƒ½ç›¸ä¾æ–¼æŠ½è±¡ï¼Œè®“åœ˜éšŠå¯ä»¥æ›´æœ‰æ•ˆç‡çš„é–‹ç™¼ç³»çµ± æƒ³è¦å¯ä»¥æ›¿æ›å…·é«”å¯¦ä½œï¼Œè®“ç³»çµ±è®Šå¾—æ›´æœ‰å½ˆæ€§  ç¬¦åˆDIPé€šå¸¸ä¹Ÿæ„å‘³è€…ç¬¦åˆOCPèˆ‡LSPåŸå‰‡ åªè¦å†å¤šè€ƒé‡SRPèˆ‡ISPå°±å¾ˆæ£’äº†!   æƒ³è¦å°å…¥TDD(æ¸¬è©¦é©…å‹•é–‹ç™¼)æˆ–å–®å…ƒæ¸¬è©¦çš„æ™‚å€™  DIPè¨è«–äº‹é …  ä½ åœ¨å·¥ä½œä¸­æ˜¯å¦æœ‰é‡éé¡ä¼¼çš„è¨­è¨ˆæ–¹å¼?(ç›¸ä¾æ³¨å…¥) å¦‚æœä¸€å€‹é¡åˆ¥éå¸¸ç©©å®šï¼Œä¹Ÿæ²’æœ‰è®Šæ›´éœ€æ±‚ï¼Œéœ€è¦å¥—ç”¨DIPå—? å¤§é‡å¥—ç”¨DIPæœ‰ç¼ºé»å—?  :notebook: ç·´ç¿’æƒ…å¢ƒ è«‹è©¦è€…æ‰¾å‡ºåº•ä¸‹ç¨‹å¼ç¢¼ä¸ç¬¦åˆ ç›¸ä¾åè½‰åŸå‰‡åœ°æ–¹
public class SecurityService {  public bool LoginUser(string userName,string password)  {  LoginService service = new LoginService();  return service.ValidateUser(userName,password);  } } public class LoginService {  public bool ValidateUser(string userName,string password)  {  throw new NotImplementedException();  } } ä¿®æ­£ç›¸ä¾æ–¼æŠ½è±¡ï¼Œä½¿ç”¨å»ºæ§‹å¼å‚³å…¥å…·é«”å¯¦ä½œç‰©ä»¶
public class SecurityService {  private readoly ILoginService _LoginService;  public SecurityService(ILoginService loginService)  {  this._LoginService =loginService;  }  public bool LoginUser(string userName,string password)  {  return _LoginService.ValidateUser(userName,password);  } } public void Main() {  new SecurityService(new LoginService()); } </content>
    </entry>
    
</search>